<import src="./templates/header.wxml"></import>
<import src="./templates/cardItem.wxml"></import>
<import src="./templates/addDevice.wxml"></import>

<view class="tab_box common_bg_color">
  <!-- Header -->
  <template is="index_header" />
  <view class="extra_line" />

  <!-- Tabs -->
  <van-tabs 
    active="{{ active }}"
    bind:change="onChange"
    custom-class="tabs_container common_shadow"
    tab-active-class="tab-active-class"
    tab-class="tab-class"
    animated="true"
    swipeable="true"
    swipe-threshold="4"
    lazy-render="true"
    >
    <block wx:for="{{sceneList}}" wx:for-item="tab_item" wx:for-index="tab_idx" wx:key="tab_idx">
      <van-tab title="{{tab_item.name}}">
        <view class="tab_content_container">
          <block wx:for="{{tab_item.equipmentList}}" wx:key="index">
            <template is="cardItem" data="{{...item}}"/>
          </block>
        </view>
      </van-tab>
    </block>
  </van-tabs>

  <!-- PopUp -->
  <van-popup 
    show="{{ showPopup }}"
    bind:close="onPopupClose"
    position="bottom"
    round="true"
    >
    内容
  </van-popup>
  <!-- <template is="addDevice" data="{{addDeviceData}}"/> -->
</view>


